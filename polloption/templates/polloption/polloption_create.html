{% extends "poll/base.html" %}
{% load static %}
{% load crispy_forms_tags %}

{% block extra_links %}
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@40,300,0,200" />
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@40,300,0,200" />
{% endblock extra_links %}


{% block content %}
    <div class="container px-4 my-4 mx-auto">
        <h1 class="mb-6 text-3xl md:text-4xl lg:max-xl:text-3xl font-bold font-heading leading-none text-center md:text-left">
            Edit Poll Options
        </h1>

        <div class=" max-w-lg mb-4">

            <!-- docs: https://docs.djangoproject.com/en/4.2/topics/forms/modelforms/#specifying-widgets-to-use-in-the-form-with-widgets -->
            <form id="container-form" method="post" novalidate">
                {% csrf_token %}                
                {{ formset.management_form }}
                {% for form in formset %}
                <div class="outline outline-2 outline-slate-400 p-2 rounded-lg mb-5">
                    <span class="block text-gray-500 text-md font-bold mb-2">
                        Option {{ forloop.counter }}
                    </span>
                    <div class="flex flex-col">
                        {{ form|crispy }}
                    </div>
                </div>

                {% endfor %}
            </form>

            <div id="add-remove-group" class="flex flex-col sm:flex-row flex-wrap justify-center sm:justify-around items-center px-4 sm:px-0">
                <button id="add-form" type="button" class="block min-w-full w-[48%] sm:min-w-min py-4 px-6 my-1 text-white font-semibold border border-cyan-700 rounded-xl focus:ring focus:ring-cyan-300 bg-cyan-600 hover:bg-cyan-700 transition ease-in-out duration-200">
                    <span class="material-symbols-outlined align-text-bottom">add_circle</span>
                    Add Option
                </button>
                {% comment %} <button id="remove-form" type="button" class="block min-w-full w-[48%] sm:min-w-min py-4 px-6 my-1 text-white font-semibold border border-cyan-700 rounded-xl focus:ring focus:ring-cyan-300 bg-cyan-600 hover:bg-cyan-700 transition ease-in-out duration-200">
                    <span class="material-symbols-outlined align-text-bottom">do_not_disturb_on</span>
                    Remove Option
                </button> {% endcomment %}
            </div>    
        </div>

        <div class="flex flex-col sm:flex-row flex-wrap justify-center sm:justify-end items-center px-4">
            <a href="{% url 'poll-home' %}" class="block min-w-full sm:min-w-min py-4 px-6 sm:ml-4 my-1 text-center text-black font-semibold border border-gray-300 rounded-xl focus:ring focus:ring-emerald-300 bg-white hover:bg-gray-100 transition ease-in-out duration-200">Cancel</a>
            <button form="container-form" class="block min-w-full sm:min-w-min py-4 px-6 sm:ml-4 my-1 text-white font-semibold border border-emerald-700 rounded-xl focus:ring focus:ring-emerald-300 bg-emerald-600 hover:bg-emerald-700 transition ease-in-out duration-200" type="submit">Save</button>
        </div>
        
    </div>
{% endblock content %}
